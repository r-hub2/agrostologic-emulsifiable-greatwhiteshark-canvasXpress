<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Additional Examples for canvasXpress in R • canvasXpress</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Additional Examples for canvasXpress in R">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">canvasXpress</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.54.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/additional_examples.html">Additional Examples for canvasXpress in R</a>
    </li>
    <li>
      <a href="../articles/getting_started.html">Getting Started with canvasXpress in R</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/neuhausi/canvasXpress/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Additional Examples for canvasXpress in R</h1>
                        <h4 data-toc-skip class="author">Connie
Brett</h4>
            
            <h4 data-toc-skip class="date">2025-01-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/neuhausi/canvasXpress/blob/HEAD/vignettes/additional_examples.Rmd" class="external-link"><code>vignettes/additional_examples.Rmd</code></a></small>
      <div class="hidden name"><code>additional_examples.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="data-from-an-r-perspective">Data from an R perspective<a class="anchor" aria-label="anchor" href="#data-from-an-r-perspective"></a>
</h2>
<p>The canvasXpress JavaScript functionality in the browser generally
expects data to be in a wide format and utilizes both column- and
row-names to cross-reference and access the various slices of data
needed to make the charts. The package will warn you if that data you
provide doesn’t match up, and it is likely that one of your structures
is simply the wrong format or is missing the row or column names.</p>
<div class="section level3">
<h3 id="variables">Variables<a class="anchor" aria-label="anchor" href="#variables"></a>
</h3>
<p>Variables are the rows of data and the variable names are drawn from
the row names. It is helpful to keep in mind that there are a number of
manipulations and functions in R that remove or reset rownames on
various data structures.</p>
</div>
<div class="section level3">
<h3 id="samples">Samples<a class="anchor" aria-label="anchor" href="#samples"></a>
</h3>
<p>Samples are the columns of data and the sample names are drawn from
the column names.</p>
</div>
<div class="section level3">
<h3 id="annotations">Annotations<a class="anchor" aria-label="anchor" href="#annotations"></a>
</h3>
<p>Annotations are considered to be <em>extra</em> information or
characteristics. These data add to the information about samples or
variables but are not a part of the main dataset.</p>
</div>
<div class="section level3">
<h3 id="item-indexing">Item Indexing<a class="anchor" aria-label="anchor" href="#item-indexing"></a>
</h3>
<p>Some charts can be built in canvasXpress based on the index of the
data instead of names. The JavaScript language uses 0-based indexing
whereas the R language uses 1-based indexing. This means that to access
the first item in a vectors column, row, etc in JavaScript the index
would is 0, whereas the first item in that same structure in R would
have an index of 1.</p>
<p>This discrepancy in indexing means that when sending data indexes to
canvasXpress from R it is crucial to adjust your R index (subtract 1)
since the canvasXpress charts (even within RStudio) are <em>always</em>
created from a JavaScript perspective.</p>
</div>
<div class="section level3">
<h3 id="json-data-tips-on-matching-r">JSON Data (tips on matching R)<a class="anchor" aria-label="anchor" href="#json-data-tips-on-matching-r"></a>
</h3>
<p>The JSON format for the data is essentially a list of lists. From a
data perspective the y list (compartment) is where the numerical data
resides with three sub-lists - the names of the variables, the names of
the samples, and the actual data. The x list contains the sample
annotation data, and the z list contains the variable annotation
data.</p>
<p>When utilizing the canvasXpress functions from R the following
mappings are made, which covers the most common charts. There are
additional named lists and properties that are mapped for specific chart
types and covered with those chart examples below.</p>
<blockquote>
<p>data -&gt; y<br>
    <em>y.vars = row names</em><br>
    <em>y.smps = column names</em><br>
    <em>y.data = values</em><br>
smpAnnot -&gt; x<br>
varAnnot -&gt; z</p>
</blockquote>
</div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="data-preparation">Data Preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h3>
<p>Examples here use data manipulated with the tidyverse related
packages (dplyr, tibble, etc). This is just one way to manipulate data
into the correct format to plot in CanvasXpress.</p>
<p>A variety of commonly-used canvasXpress options are used below to
provide examples of how to position, resize and configure various
aspects of the charts from the call to the CanvasXpress function in R.
This includes items such as the Axis Titles, Legends, Colors, etc. All
of these optional parameters are documented on the main CanvasXpress
site at <a href="https://www.canvasxpress.org" class="external-link uri">https://www.canvasxpress.org</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/neuhausi/canvasXpress" class="external-link">canvasXpress</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">USArrests</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html" class="external-link">rownames_to_column</a></span><span class="op">(</span>var <span class="op">=</span> <span class="st">"State"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Total <span class="op">=</span> <span class="op">(</span><span class="va">Assault</span> <span class="op">+</span> <span class="va">Rape</span> <span class="op">+</span> <span class="va">Murder</span><span class="op">)</span>,</span>
<span>           Category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">Total</span>, <span class="fl">3</span>, </span>
<span>                          labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"med"</span>, <span class="st">"high"</span><span class="op">)</span>,</span>
<span>                          ordered_result <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="scatter-2d-chart">Scatter 2D Chart<a class="anchor" aria-label="anchor" href="#scatter-2d-chart"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cxdata</span>          <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Murder</span>, <span class="va">Assault</span><span class="op">)</span></span>
<span><span class="va">cxdata.varAnnot</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">UrbanPop</span>, <span class="va">Category</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">cxdata</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span>, <span class="st">"State"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">cxdata.varAnnot</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span>, <span class="st">"State"</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="../reference/canvasXpress.html">canvasXpress</a></span><span class="op">(</span>data                    <span class="op">=</span> <span class="va">cxdata</span>,</span>
<span>             varAnnot                <span class="op">=</span> <span class="va">cxdata.varAnnot</span>,</span>
<span>             graphType               <span class="op">=</span> <span class="st">"Scatter2D"</span>,</span>
<span>             colorBy                 <span class="op">=</span> <span class="st">"UrbanPop"</span>,</span>
<span>             shapeBy                 <span class="op">=</span> <span class="st">"Category"</span>,</span>
<span>             legendPosition          <span class="op">=</span> <span class="st">"right"</span>,</span>
<span>             legendOrder             <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Category"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"med"</span>, <span class="st">"high"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>             title                   <span class="op">=</span> <span class="st">"Murder vs Assault Rates"</span>,</span>
<span>             xAxisMinorTicks         <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>             yAxisMinorTicks         <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="images%2FR-Scatter2D.jpg" alt="Scatter2D"><div class="figcaption">Scatter2D</div>
</div>
</div>
<div class="section level3">
<h3 id="stacked-bar-chart">Stacked Bar Chart<a class="anchor" aria-label="anchor" href="#stacked-bar-chart"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cxdata</span>           <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Assault</span>, <span class="va">Rape</span>, <span class="va">Murder</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">cxdata</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">State</span></span>
<span></span>
<span><span class="fu"><a href="../reference/canvasXpress.html">canvasXpress</a></span><span class="op">(</span>data                  <span class="op">=</span> <span class="va">cxdata</span>,</span>
<span>             graphType             <span class="op">=</span> <span class="st">"Stacked"</span>,</span>
<span>             colorScheme           <span class="op">=</span> <span class="st">"Blues"</span>,</span>
<span>             graphOrientation      <span class="op">=</span> <span class="st">"vertical"</span>,</span>
<span>             legendInside          <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>             legendPosition        <span class="op">=</span> <span class="st">"topRight"</span>,</span>
<span>             legendBackgroundColor <span class="op">=</span> <span class="st">'white'</span>,</span>
<span>             smpLabelRotate        <span class="op">=</span> <span class="fl">20</span>,</span>
<span>             title                 <span class="op">=</span> <span class="st">"US Arrests by State and Type"</span>,</span>
<span>             xAxisTitle            <span class="op">=</span> <span class="st">"Total Arrests"</span>,</span>
<span>             xAxis2Title           <span class="op">=</span> <span class="st">"Total Arrests"</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="images%2FR-StackedBar.jpg" alt="StackedBar"><div class="figcaption">StackedBar</div>
</div>
</div>
<div class="section level3">
<h3 id="clustered-bar-chart">Clustered Bar Chart<a class="anchor" aria-label="anchor" href="#clustered-bar-chart"></a>
</h3>
<div class="section level4">
<h4 id="canvasxpress-clustering">CanvasXpress clustering<a class="anchor" aria-label="anchor" href="#canvasxpress-clustering"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cxdata</span>           <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Assault</span>, <span class="va">Rape</span>, <span class="va">Murder</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">cxdata</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">State</span></span>
<span></span>
<span><span class="fu"><a href="../reference/canvasXpress.html">canvasXpress</a></span><span class="op">(</span>data                    <span class="op">=</span> <span class="va">cxdata</span>,</span>
<span>             graphType               <span class="op">=</span> <span class="st">"Stacked"</span>,</span>
<span>             graphOrientation        <span class="op">=</span> <span class="st">"horizontal"</span>,</span>
<span>             colorScheme             <span class="op">=</span> <span class="st">"Reds"</span>,</span>
<span>             showSampleNames         <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>             title                   <span class="op">=</span> <span class="st">"Clustered Arrests"</span>,</span>
<span>             subtitle                <span class="op">=</span> <span class="st">"(by State and Type)"</span>,</span>
<span>             titleScaleFontFactor    <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>             subtitleScaleFontFactor <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>             xAxisShow               <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>             xAxis2Title             <span class="op">=</span> <span class="st">"Total Arrests"</span>,</span>
<span>             legendPosition          <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>             legendColumns           <span class="op">=</span> <span class="fl">3</span>,</span>
<span>             sampleSpaceFactor       <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span><span class="co">#canvasXpress clustering options  </span></span>
<span>             samplesClustered        <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>             linkage                 <span class="op">=</span> <span class="st">"single"</span>,</span>
<span>             distance                <span class="op">=</span> <span class="st">"manhattan"</span>,</span>
<span>             smpDendrogramPosition   <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="images%2FR-ClusteredBar1.jpg" alt="ClusteredBar1"><div class="figcaption">ClusteredBar1</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="boxplot">Boxplot<a class="anchor" aria-label="anchor" href="#boxplot"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reshape</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html" class="external-link">gather</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"Type"</span>, value <span class="op">=</span> <span class="st">"Rate"</span>, </span>
<span>                           <span class="va">Assault</span>, <span class="va">Rape</span>, <span class="va">Murder</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cxdata</span>           <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">reshape</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Rate</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">cxdata.smpAnnot</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">reshape</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">cxdata.smpAnnot</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">cxdata</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/canvasXpress.html">canvasXpress</a></span><span class="op">(</span>data                  <span class="op">=</span> <span class="va">cxdata</span>,</span>
<span>             smpAnnot              <span class="op">=</span> <span class="va">cxdata.smpAnnot</span>,</span>
<span>             graphType             <span class="op">=</span> <span class="st">"Boxplot"</span>,</span>
<span>             colorScheme           <span class="op">=</span> <span class="st">"Pastel"</span>,</span>
<span>             colorBy               <span class="op">=</span> <span class="st">"Type"</span>,</span>
<span>             graphOrientation      <span class="op">=</span> <span class="st">"vertical"</span>,</span>
<span>             groupingFactors       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Type"</span><span class="op">)</span>,</span>
<span>             smpLabelFontStyle     <span class="op">=</span> <span class="st">"italic"</span>,</span>
<span>             smpLabelRotate        <span class="op">=</span> <span class="fl">90</span>,</span>
<span>             showLegend            <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>             title                 <span class="op">=</span> <span class="st">"US Arrests by Type"</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="images%2FR-BoxPlot1.jpg" alt="BoxPlot1"><div class="figcaption">BoxPlot1</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="piping-support-and-examples">Piping Support and Examples<a class="anchor" aria-label="anchor" href="#piping-support-and-examples"></a>
</h2>
<p>Standard (simple) piping is supported in the package. You can pipe a
canvasXpress object into the canvasXpress() function and make changes to
the configuration of the object. Primary data variables (data, varAnnot
and smpAnnot) are not able to be changed via this method, but any other
changes (both additions and subtractions) are supported. The magrittr
pipe and R pipe (4.2 and above) can both be used to access this
functionality as well as using the function syntax to set the first
argument to another canvasXpress object. To change or add a
configuration value, simply (re)define it in the piped function call; to
remove a previously defined configuration value set the value to
NULL.</p>
<p>Create an initial chart</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">initial_cx</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/canvasXpress.html">canvasXpress</a></span><span class="op">(</span></span>
<span>    data                  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="st">"https://www.canvasxpress.org/data/cX-mtcars-dat.txt"</span>, </span>
<span>                            header <span class="op">=</span> <span class="cn">TRUE</span>, sep <span class="op">=</span> <span class="st">"\t"</span>, quote <span class="op">=</span> <span class="st">""</span>, row.names <span class="op">=</span> <span class="fl">1</span>, fill <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                            check.names <span class="op">=</span> <span class="cn">FALSE</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>    asSampleFactors       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"cyl"</span><span class="op">)</span>,</span>
<span>    stringVariableFactors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"cyl"</span><span class="op">)</span>,</span>
<span>    colorBy               <span class="op">=</span> <span class="st">"cyl"</span>,</span>
<span>    graphType             <span class="op">=</span> <span class="st">"Scatter2D"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">initial_cx</span></span></code></pre></div>
<div class="float">
<img src="images%2Fpiping1.jpg" alt="Piping1"><div class="figcaption">Piping1</div>
</div>
<p>Update this chart using the magrittr pipe to add a title and
subtitle, change the x and y axis, show a regression line and set the
theme.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">update_1</span> <span class="op">&lt;-</span> <span class="va">initial_cx</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/canvasXpress.html">canvasXpress</a></span><span class="op">(</span></span>
<span>    title                             <span class="op">=</span> <span class="st">"mtcars wt vs mpg"</span>,</span>
<span>    subtitle                          <span class="op">=</span> <span class="st">"regression by cyl"</span>,</span>
<span>    showRegressionFit                 <span class="op">=</span> <span class="st">"cyl"</span>,</span>
<span>    confidenceIntervalColorCoordinate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    theme                             <span class="op">=</span> <span class="st">"GGPlot"</span>,</span>
<span>    xAxis                             <span class="op">=</span> <span class="st">"wt"</span>,</span>
<span>    yAxis                             <span class="op">=</span> <span class="st">"mpg"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">update_1</span></span></code></pre></div>
<div class="float">
<img src="images%2Fpiping2.jpg" alt="Piping2"><div class="figcaption">Piping2</div>
</div>
<p>Update the chart again using the R base pipe to change to a single
regression line and remove the subtitle and theme configuration
values</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">update_2</span> <span class="op">&lt;-</span> <span class="va">update_1</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/canvasXpress.html">canvasXpress</a></span><span class="op">(</span></span>
<span>    showRegressionFit <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    subtitle          <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    theme             <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">update_2</span></span></code></pre></div>
<div class="float">
<img src="images%2Fpiping3.jpg" alt="Piping3"><div class="figcaption">Piping3</div>
</div>
</div>
<div class="section level2">
<h2 id="additional-information">Additional Information<a class="anchor" aria-label="anchor" href="#additional-information"></a>
</h2>
<p>Additional information and many examples with R code for the
<strong><em>canvasXpress</em></strong> library can be found at <a href="https://www.canvasxpress.org" class="external-link">https://www.canvasxpress.org</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Isaac Neuhaus, Connie Brett.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
